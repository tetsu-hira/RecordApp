{"ast":null,"code":"import _toConsumableArray from\"C:/Users/AIQ11/Documents/RecordApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/AIQ11/Documents/RecordApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import*as React from'react';// import ExcelJS from \"exceljs\";\n// import File from \"./File\";\n// import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\"\n// import Select from 'react-select';\n// import ReactDOM from \"react-dom\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// type Cell = {\n//   name: string\n//   time1: number\n// }\n// const reorder = (\n//   list: ItemType[],\n//   startIndex: number,\n//   endIndex: number\n// ): ItemType[] => {\n//   const result = Array.from(list);\n//   const [removed] = result.splice(startIndex, 1);\n//   result.splice(endIndex, 0, removed);\n//   return result;\n// };\nvar Process=function Process(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),plan=_useState2[0],setPlan=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),time1=_useState4[0],setTime1=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),time2=_useState6[0],setTime2=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),list=_useState8[0],setList=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),count=_useState12[0],setCount=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),win=_useState14[0],setWin=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),lose=_useState16[0],setLose=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),drawWin=_useState18[0],setDrawWin=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),drawDraw=_useState20[0],setDrawDraw=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),drawLose=_useState22[0],setDrawLose=_useState22[1];var changeData=function changeData(e){setData(e.target.value);// setCount(Math.random());\n};var changeWin=function changeWin(e){setWin(e.target.value);setLose(0);};var changeDrawWin=function changeDrawWin(e){setDrawWin(e.target.value);};var changeDrawDraw=function changeDrawDraw(e){setDrawDraw(e.target.value);};var changeDrawLose=function changeDrawLose(e){setDrawLose(e.target.value);};var addList=function addList(){setList([].concat(_toConsumableArray(list),[{id:data,name:data,gross:0,point:0,score:0}]));setData('');};var handleRemoveTask=function handleRemoveTask(index){var delTeam=plan.find(function(elem){return plan[index]===elem;});var newPlan=_toConsumableArray(plan);newPlan.splice(index,1);setPlan(newPlan);var result=newPlan.filter(function(plans){return plans.name===delTeam.name;});var result1=list.find(function(elem){return elem.name===delTeam.name;});var result2=result.length;result1.gross=result2;};var addPlan=function addPlan(index){var addName=list.find(function(elem){return list[index]===elem;});setPlan([].concat(_toConsumableArray(plan),[{name:addName.name,time1:0,time2:0,count:0,marks:0}]));var result=plan.filter(function(plans){return plans.name===list[index].name;});var result1=result.length+1;list[index].gross=result1;};var addTime1=function addTime1(index,minute){var targetPlan=plan.find(function(elem){return plan[index]===elem;});targetPlan.time1=targetPlan.time1+minute;setTime1(targetPlan.time1);// 奇数か偶数で処理を変える\nif(index%2===0){var nextPlan=plan.find(function(elem){return plan[index+1]===elem;});targetPlan.count=targetPlan.time1+targetPlan.time2-(nextPlan.time1+nextPlan.time2);nextPlan.count=nextPlan.time1+nextPlan.time2-(targetPlan.time1+targetPlan.time2);setCount(targetPlan.count);if(targetPlan.time1>nextPlan.time1&&targetPlan.time2>nextPlan.time2){targetPlan.marks=Number(win);nextPlan.marks=Number(lose);}else if(targetPlan.time1<nextPlan.time1&&targetPlan.time2<nextPlan.time2){targetPlan.marks=Number(lose);nextPlan.marks=Number(win);}else if(targetPlan.time1<nextPlan.time1&&targetPlan.time2>nextPlan.time2||targetPlan.time1>nextPlan.time1&&targetPlan.time2<nextPlan.time2){if(targetPlan.time1+targetPlan.time2>nextPlan.time1+nextPlan.time2){targetPlan.marks=Number(drawWin);nextPlan.marks=Number(drawLose);}else if(targetPlan.time1+targetPlan.time2<nextPlan.time1+nextPlan.time2){targetPlan.marks=Number(drawLose);nextPlan.marks=Number(drawWin);}else{targetPlan.marks=Number(drawDraw);nextPlan.marks=Number(drawDraw);}}else{targetPlan.marks=Number(lose);nextPlan.marks=Number(lose);}}else{var prevPlan=plan.find(function(elem){return plan[index-1]===elem;});targetPlan.count=targetPlan.time1+targetPlan.time2-(prevPlan.time1+prevPlan.time2);prevPlan.count=prevPlan.time1+prevPlan.time2-(targetPlan.time1+targetPlan.time2);setCount(targetPlan.count);if(targetPlan.time1>prevPlan.time1&&targetPlan.time2>prevPlan.time2){targetPlan.marks=Number(win);prevPlan.marks=Number(lose);}else if(targetPlan.time1<prevPlan.time1&&targetPlan.time2<prevPlan.time2){targetPlan.marks=Number(lose);prevPlan.marks=Number(win);}else if(targetPlan.time1<prevPlan.time1&&targetPlan.time2>prevPlan.time2||targetPlan.time1>prevPlan.time1&&targetPlan.time2<prevPlan.time2){if(targetPlan.time1+targetPlan.time2>prevPlan.time1+prevPlan.time2){targetPlan.marks=Number(drawWin);prevPlan.marks=Number(drawLose);}else if(targetPlan.time1+targetPlan.time2<prevPlan.time1+prevPlan.time2){targetPlan.marks=Number(drawLose);prevPlan.marks=Number(drawWin);}else{targetPlan.marks=Number(drawDraw);prevPlan.marks=Number(drawDraw);}}else{targetPlan.marks=Number(lose);prevPlan.marks=Number(lose);}}// ここから繰り返し処理\nvar _loop=function _loop(i){var countPlan=list.find(function(elem){return list[i]===elem;});// 得失点の合計値をtotalに代入\nvar sumCount=plan.filter(function(plans){return plans.name===countPlan.name;});var total=sumCount.reduce(function(sum,element){return sum+element.count;},0);// 合計をlistに反映\nvar update=list.find(function(elem){return elem.name===countPlan.name;});update.score=total;// 勝ち点の合計値をamountに代入\nvar sumMarks=plan.filter(function(plans){return plans.name===countPlan.name;});var amount=sumMarks.reduce(function(sum,element){return sum+element.marks;},0);// 合計をlistに反映\nvar overwrite=list.find(function(elem){return elem.name===countPlan.name;});overwrite.point=amount;};for(var i=0;i<list.length;i++){_loop(i);}// ここまで繰り返し\n// コンソールでエラーを回避\nconsole.log(\"ここからエラー回避\");console.log(time1);console.log(count);};var addTime2=function addTime2(index,minute){var targetPlan=plan.find(function(elem){return plan[index]===elem;});targetPlan.time2=targetPlan.time2+minute;setTime2(targetPlan.time2);// 奇数か偶数で処理を変える\nif(index%2===0){var nextPlan=plan.find(function(elem){return plan[index+1]===elem;});targetPlan.count=targetPlan.time1+targetPlan.time2-(nextPlan.time1+nextPlan.time2);nextPlan.count=nextPlan.time1+nextPlan.time2-(targetPlan.time1+targetPlan.time2);setCount(targetPlan.count);if(targetPlan.time1>nextPlan.time1&&targetPlan.time2>nextPlan.time2){targetPlan.marks=Number(win);nextPlan.marks=Number(lose);}else if(targetPlan.time1<nextPlan.time1&&targetPlan.time2<nextPlan.time2){targetPlan.marks=Number(lose);nextPlan.marks=Number(win);}else if(targetPlan.time1<nextPlan.time1&&targetPlan.time2>nextPlan.time2||targetPlan.time1>nextPlan.time1&&targetPlan.time2<nextPlan.time2){if(targetPlan.time1+targetPlan.time2>nextPlan.time1+nextPlan.time2){targetPlan.marks=Number(drawWin);nextPlan.marks=Number(drawLose);}else if(targetPlan.time1+targetPlan.time2<nextPlan.time1+nextPlan.time2){targetPlan.marks=Number(drawLose);nextPlan.marks=Number(drawWin);}else{targetPlan.marks=Number(drawDraw);nextPlan.marks=Number(drawDraw);}}else{targetPlan.marks=Number(lose);nextPlan.marks=Number(lose);}}else{var prevPlan=plan.find(function(elem){return plan[index-1]===elem;});targetPlan.count=targetPlan.time1+targetPlan.time2-(prevPlan.time1+prevPlan.time2);prevPlan.count=prevPlan.time1+prevPlan.time2-(targetPlan.time1+targetPlan.time2);setCount(targetPlan.count);if(targetPlan.time1>prevPlan.time1&&targetPlan.time2>prevPlan.time2){targetPlan.marks=Number(win);prevPlan.marks=Number(lose);}else if(targetPlan.time1<prevPlan.time1&&targetPlan.time2<prevPlan.time2){targetPlan.marks=Number(lose);prevPlan.marks=Number(win);}else if(targetPlan.time1<prevPlan.time1&&targetPlan.time2>prevPlan.time2||targetPlan.time1>prevPlan.time1&&targetPlan.time2<prevPlan.time2){if(targetPlan.time1+targetPlan.time2>prevPlan.time1+prevPlan.time2){targetPlan.marks=Number(drawWin);prevPlan.marks=Number(drawLose);}else if(targetPlan.time1+targetPlan.time2<prevPlan.time1+prevPlan.time2){targetPlan.marks=Number(drawLose);prevPlan.marks=Number(drawWin);}else{targetPlan.marks=Number(drawDraw);prevPlan.marks=Number(drawDraw);}}else{targetPlan.marks=Number(lose);prevPlan.marks=Number(lose);}}// ここから繰り返し処理\nvar _loop2=function _loop2(i){var countPlan=list.find(function(elem){return list[i]===elem;});// 得失点の合計値をtotalに代入\nvar sumCount=plan.filter(function(plans){return plans.name===countPlan.name;});var total=sumCount.reduce(function(sum,element){return sum+element.count;},0);// 合計をlistに反映\nvar update=list.find(function(elem){return elem.name===countPlan.name;});update.score=total;// 勝ち点の合計値をamountに代入\nvar sumMarks=plan.filter(function(plans){return plans.name===countPlan.name;});var amount=sumMarks.reduce(function(sum,element){return sum+element.marks;},0);// 合計をlistに反映\nvar overwrite=list.find(function(elem){return elem.name===countPlan.name;});overwrite.point=amount;};for(var i=0;i<list.length;i++){_loop2(i);}// ここまで繰り返し\n// コンソールでエラーを回避\nconsole.log(time2);console.log(count);};/* いずれは実装したい\r\n  const handleClickDownloadButton = async (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\r\n    format:  \"xlsx\" | \"csv\"\r\n  ) => {\r\n    e.preventDefault();\r\n\r\n    const workbook = new ExcelJS.Workbook();\r\n    workbook.addWorksheet(\"sheet1\");\r\n    const worksheet = workbook.getWorksheet(\"sheet1\");\r\n\r\n    worksheet.columns = [\r\n      { header: \"No.\", key: \"\", width: 10 },\r\n      { header: \"工程\", key: \"name\", width: 20},\r\n      { header: \"時間\", key: \"time1\", width: 20}\r\n    ];\r\n\r\n    worksheet.addRows(plan);\r\n\r\n    const uint8Array =\r\n      format === \"xlsx\"\r\n        ? await workbook.xlsx.writeBuffer() //xlsxの場合\r\n        : await workbook.csv.writeBuffer(); //csvの場合\r\n    const blob = new Blob([uint8Array], { type: \"application/octet-binary \"});\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = \"NewFile.\" + format; //フォーマットによって拡張子を変える\r\n    a.click();\r\n    a.remove();\r\n  };\r\n  */ // const handleOnDragEnd = (result:any) => {\n//   const items = Array.from(plan);\n//   const [reorderedItem] = items.splice(result.source.index, 1);\n//   items.splice(result.destination.index, 0, reorderedItem);\n//   setPlan(items);\n// }\nvar returnTop=function returnTop(){window.scrollTo({top:0,behavior:\"smooth\"});};// 確認のため設置\nconsole.log(list);return/*#__PURE__*/_jsx(\"div\",{className:\"Process\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ProcessContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ProcessMain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ProcessList\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u3010\\u30C1\\u30FC\\u30E0\\u4E00\\u89A7\\u3011\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ProcessList__Border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:\"\\u30C1\\u30FC\\u30E0\\u540D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gross\",children:\"\\u8A66\\u5408\\u6570\"}),/*#__PURE__*/_jsx(\"div\",{className:\"point\",children:\"\\u52DD\\u3061\\u70B9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"score\",children:\"\\u5F97\\u5931\\u70B9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"Item\",children:list.map(function(item,idx){return/*#__PURE__*/_jsx(\"li\",{className:\"ItemList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ItemList__data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"gross\",children:item.gross}),/*#__PURE__*/_jsx(\"div\",{className:\"point\",children:item.point}),/*#__PURE__*/_jsx(\"div\",{className:\"score\",children:item.score}),/*#__PURE__*/_jsx(\"button\",{className:\"AddPlan\",onClick:function onClick(){return addPlan(idx);},children:\"\\u767B\\u9332\"})]})},item.name);})})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u3010\\u52DD\\u3061\\u70B9\\u3092\\u5165\\u529B\\u3011\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Insert\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"InsertContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"InsertContent__text\",children:\"\\u52DD\\u3061\"}),/*#__PURE__*/_jsx(\"input\",{className:\"InsertContent__entry\",type:\"number\",id:\"win\",onChange:changeWin})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InsertContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"InsertContent__text\",children:\"\\u5206\\u52DD\"}),/*#__PURE__*/_jsx(\"input\",{className:\"InsertContent__entry\",type:\"number\",id:\"draw_win\",onChange:changeDrawWin})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InsertContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"InsertContent__text\",children:\"\\u5206\\u5206\"}),/*#__PURE__*/_jsx(\"input\",{className:\"InsertContent__entry\",type:\"number\",id:\"draw_draw\",onChange:changeDrawDraw})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InsertContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"InsertContent__text\",children:\"\\u5206\\u8CA0\"}),/*#__PURE__*/_jsx(\"input\",{className:\"InsertContent__entry\",type:\"number\",id:\"draw_lose\",onChange:changeDrawLose})]})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u3010\\u30C1\\u30FC\\u30E0\\u3092\\u8FFD\\u52A0\\u3011\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"FormContent\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"FormContent__name\",type:\"text\",id:\"name\",value:data,onChange:changeData}),/*#__PURE__*/_jsx(\"button\",{className:\"FormContent__button\",type:\"submit\",onClick:addList,children:\"\\u30C1\\u30FC\\u30E0\\u8FFD\\u52A0\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"upButton\",onClick:returnTop})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Result\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"\\u3010\\u8A66\\u5408\\u5185\\u5BB9\\u3011\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Result__Border\",children:plan.map(function(item,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"Flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"FlexNumber\",children:idx%2===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"FlexNumber__item\",children:[\"\\u7B2C\",idx/2+1,\"\\u8A66\\u5408\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCross\",children:[idx%2!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"FlexCross__item\",children:\"\\u2716\"}),idx%2!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"FlexCross__item\",children:\"\\u2716\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount__flex\",children:[idx%2===0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime1(idx,-1);},children:\"-\"}),idx%2===0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime1(idx,5);},children:\"+\"}),idx%2!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"ResultTime\",children:item.time1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount__flex\",children:[idx%2===0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime2(idx,-1);},children:\"-\"}),idx%2===0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime2(idx,5);},children:\"+\"}),idx%2!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"ResultTime\",children:item.time2})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexName\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ResultName\",children:item.name}),/*#__PURE__*/_jsx(\"button\",{className:\"DeleteButton\",onClick:function onClick(){return handleRemoveTask(idx);},children:\"\\u53D6\\u6D88\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount__flex\",children:[idx%2!==0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime1(idx,-1);},children:\"-\"}),idx%2!==0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime1(idx,5);},children:\"+\"}),idx%2===0&&/*#__PURE__*/_jsx(\"div\",{className:\"ResultTime\",children:item.time1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FlexCount__flex\",children:[idx%2!==0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime2(idx,-1);},children:\"-\"}),idx%2!==0&&/*#__PURE__*/_jsx(\"button\",{className:\"AddCount\",onClick:function onClick(){return addTime2(idx,5);},children:\"+\"}),idx%2===0&&/*#__PURE__*/_jsx(\"div\",{className:\"ResultTime\",children:item.time2})]})]})]},idx);})}),/*#__PURE__*/_jsx(\"div\",{})]})]})})});};export default Process;","map":{"version":3,"sources":["C:/Users/AIQ11/Documents/RecordApp/src/components/Process.tsx"],"names":["useState","React","Process","plan","setPlan","time1","setTime1","time2","setTime2","list","setList","data","setData","count","setCount","win","setWin","lose","setLose","drawWin","setDrawWin","drawDraw","setDrawDraw","drawLose","setDrawLose","changeData","e","target","value","changeWin","changeDrawWin","changeDrawDraw","changeDrawLose","addList","id","name","gross","point","score","handleRemoveTask","index","delTeam","find","elem","newPlan","splice","result","filter","plans","result1","result2","length","addPlan","addName","marks","addTime1","minute","targetPlan","nextPlan","Number","prevPlan","i","countPlan","sumCount","total","reduce","sum","element","update","sumMarks","amount","overwrite","console","log","addTime2","returnTop","window","scrollTo","top","behavior","map","item","idx"],"mappings":"0TAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA;AACA;AACA;AACA;AACA;wFAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA,GAAMC,CAAAA,OAAiB,CAAG,QAApBA,CAAAA,OAAoB,EAAM,eACJF,QAAQ,CAAQ,EAAR,CADJ,wCACtBG,IADsB,eAChBC,OADgB,8BAEFJ,QAAQ,CAAS,CAAT,CAFN,yCAEtBK,KAFsB,eAEfC,QAFe,8BAGFN,QAAQ,CAAS,CAAT,CAHN,yCAGtBO,KAHsB,eAGfC,QAHe,8BAIJR,QAAQ,CAAQ,EAAR,CAJJ,yCAItBS,IAJsB,eAIhBC,OAJgB,8BAKJV,QAAQ,EALJ,0CAKtBW,IALsB,gBAKhBC,OALgB,gCAMHZ,QAAQ,CAAS,CAAT,CANL,2CAMtBa,KANsB,gBAMfC,QANe,gCAONd,QAAQ,CAAS,CAAT,CAPF,2CAOtBe,GAPsB,gBAOjBC,MAPiB,gCAQJhB,QAAQ,CAAS,CAAT,CARJ,2CAQtBiB,IARsB,gBAQhBC,OARgB,gCASElB,QAAQ,CAAS,CAAT,CATV,2CAStBmB,OATsB,gBASbC,UATa,gCAUIpB,QAAQ,CAAS,CAAT,CAVZ,2CAUtBqB,QAVsB,gBAUZC,WAVY,gCAWItB,QAAQ,CAAS,CAAT,CAXZ,2CAWtBuB,QAXsB,gBAWZC,WAXY,gBAe9B,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAW,CAC5Bd,OAAO,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACA;AACD,CAHD,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACH,CAAD,CAAW,CAC3BV,MAAM,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CACAV,OAAO,CAAC,CAAD,CAAP,CACD,CAHD,CAIA,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,CAAD,CAAW,CAC/BN,UAAU,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACD,CAFD,CAGA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACL,CAAD,CAAW,CAChCJ,WAAW,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAFD,CAGA,GAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACN,CAAD,CAAW,CAChCF,WAAW,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAFD,CAGA,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBvB,OAAO,8BAAKD,IAAL,GAAW,CAChByB,EAAE,CAAEvB,IADY,CAEhBwB,IAAI,CAAExB,IAFU,CAGhByB,KAAK,CAAE,CAHS,CAIhBC,KAAK,CAAE,CAJS,CAKhBC,KAAK,CAAE,CALS,CAAX,GAAP,CAOA1B,OAAO,CAAC,EAAD,CAAP,CACD,CATD,CAWA,GAAM2B,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAkB,CACzC,GAAMC,CAAAA,OAAY,CAAGtC,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAD,CAAJ,GAAgBG,IAA1B,EAAV,CAArB,CACA,GAAMC,CAAAA,OAAO,oBAAOzC,IAAP,CAAb,CACAyC,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAsB,CAAtB,EACApC,OAAO,CAACwC,OAAD,CAAP,CACA,GAAME,CAAAA,MAAW,CAAGF,OAAO,CAACG,MAAR,CAAe,SAAAC,KAAK,CAAI,CAC1C,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAeM,OAAO,CAACN,IAA9B,CACD,CAFmB,CAApB,CAGA,GAAMc,CAAAA,OAAY,CAAGxC,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACR,IAAL,GAAcM,OAAO,CAACN,IAAhC,EAAV,CAArB,CACA,GAAMe,CAAAA,OAAO,CAAGJ,MAAM,CAACK,MAAvB,CACAF,OAAO,CAACb,KAAR,CAAgBc,OAAhB,CACD,CAXD,CAaA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACZ,KAAD,CAAmB,CACjC,GAAMa,CAAAA,OAAY,CAAG5C,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUlC,CAAAA,IAAI,CAAC+B,KAAD,CAAJ,GAAgBG,IAA1B,EAAV,CAArB,CACAvC,OAAO,8BAAKD,IAAL,GAAW,CAACgC,IAAI,CAAEkB,OAAO,CAAClB,IAAf,CAAqB9B,KAAK,CAAE,CAA5B,CAA+BE,KAAK,CAAE,CAAtC,CAAyCM,KAAK,CAAE,CAAhD,CAAmDyC,KAAK,CAAE,CAA1D,CAAX,GAAP,CACA,GAAMR,CAAAA,MAAW,CAAG3C,IAAI,CAAC4C,MAAL,CAAY,SAAAC,KAAK,CAAI,CACvC,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAe1B,IAAI,CAAC+B,KAAD,CAAJ,CAAYL,IAAlC,CACD,CAFmB,CAApB,CAGA,GAAMc,CAAAA,OAAO,CAAGH,MAAM,CAACK,MAAP,CAAgB,CAAhC,CACA1C,IAAI,CAAC+B,KAAD,CAAJ,CAAYJ,KAAZ,CAAoBa,OAApB,CACD,CARD,CAWA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACf,KAAD,CAAegB,MAAf,CAAiC,CAChD,GAAMC,CAAAA,UAAe,CAAGtD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAD,CAAJ,GAAgBG,IAA1B,EAAV,CAAxB,CACAc,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAACpD,KAAX,CAAmBmD,MAAtC,CACAlD,QAAQ,CAACmD,UAAU,CAACpD,KAAZ,CAAR,CACA;AACA,GAAImC,KAAK,CAAG,CAAR,GAAc,CAAlB,CAAqB,CACnB,GAAMkB,CAAAA,QAAa,CAAGvD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAK,CAAG,CAAT,CAAJ,GAAoBG,IAA9B,EAAV,CAAtB,CACAc,UAAU,CAAC5C,KAAX,CAAoB4C,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,EAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAnE,CAAnB,CACAmD,QAAQ,CAAC7C,KAAT,CAAkB6C,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAA3B,EAAqCkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAAnE,CAAjB,CACAO,QAAQ,CAAC2C,UAAU,CAAC5C,KAAZ,CAAR,CACA,GAAI4C,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAArE,CAA4E,CAC1EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC5C,GAAD,CAAzB,CACE2C,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CAHD,IAGO,IAAIwC,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAArE,CAA4E,CACjFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACEyC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC5C,GAAD,CAAvB,CACH,CAHM,IAGA,IAAK0C,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAAlE,EAA6EkD,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAAlJ,CAA0J,CAC/J,GAAKkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAvE,CAA+E,CAC7EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACxC,OAAD,CAAzB,CACEuC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACpC,QAAD,CAAvB,CACH,CAHD,IAGO,IAAKkC,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAvE,CAA+E,CACpFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACpC,QAAD,CAAzB,CACEmC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACxC,OAAD,CAAvB,CACH,CAHM,IAGA,CACLsC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACtC,QAAD,CAAzB,CACEqC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACtC,QAAD,CAAvB,CACH,CACF,CAXM,IAWA,CACLoC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACEyC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CACF,CA1BD,IA0BO,CACL,GAAM2C,CAAAA,QAAa,CAAGzD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAK,CAAG,CAAT,CAAJ,GAAoBG,IAA9B,EAAV,CAAtB,CACAc,UAAU,CAAC5C,KAAX,CAAoB4C,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,EAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAnE,CAAnB,CACAqD,QAAQ,CAAC/C,KAAT,CAAkB+C,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAA3B,EAAqCkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAAnE,CAAjB,CACAO,QAAQ,CAAC2C,UAAU,CAAC5C,KAAZ,CAAR,CACA,GAAI4C,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAArE,CAA4E,CAC1EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC5C,GAAD,CAAzB,CACE6C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CAHD,IAGO,IAAIwC,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAArE,CAA4E,CACjFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACE2C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC5C,GAAD,CAAvB,CACH,CAHM,IAGA,IAAK0C,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAAlE,EAA6EkD,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAAlJ,CAA0J,CAC/J,GAAKkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAvE,CAA+E,CAC7EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACxC,OAAD,CAAzB,CACEyC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACpC,QAAD,CAAvB,CACH,CAHD,IAGO,IAAKkC,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAvE,CAA+E,CACpFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACpC,QAAD,CAAzB,CACEqC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACxC,OAAD,CAAvB,CACH,CAHM,IAGA,CACLsC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACtC,QAAD,CAAzB,CACEuC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACtC,QAAD,CAAvB,CACH,CACF,CAXM,IAWA,CACLoC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACE2C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CACF,CACD;AA1DgD,yBA2DtC4C,CA3DsC,EA4D9C,GAAMC,CAAAA,SAAc,CAAGrD,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUlC,CAAAA,IAAI,CAACoD,CAAD,CAAJ,GAAYlB,IAAtB,EAAV,CAAvB,CACA;AACA,GAAMoB,CAAAA,QAAa,CAAG5D,IAAI,CAAC4C,MAAL,CAAY,SAAAC,KAAK,CAAI,CACzC,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAe2B,SAAS,CAAC3B,IAAhC,CACD,CAFqB,CAAtB,CAGA,GAAM6B,CAAAA,KAAK,CAAGD,QAAQ,CAACE,MAAT,CAAgB,SAASC,GAAT,CAAsBC,OAAtB,CAAoC,CAChE,MAAOD,CAAAA,GAAG,CAAGC,OAAO,CAACtD,KAArB,CACD,CAFa,CAEX,CAFW,CAAd,CAGA;AACA,GAAMuD,CAAAA,MAAW,CAAG3D,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACR,IAAL,GAAc2B,SAAS,CAAC3B,IAAlC,EAAV,CAApB,CACAiC,MAAM,CAAC9B,KAAP,CAAe0B,KAAf,CACA;AACA,GAAMK,CAAAA,QAAa,CAAGlE,IAAI,CAAC4C,MAAL,CAAY,SAAAC,KAAK,CAAI,CACzC,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAe2B,SAAS,CAAC3B,IAAhC,CACD,CAFqB,CAAtB,CAGA,GAAMmC,CAAAA,MAAM,CAAGD,QAAQ,CAACJ,MAAT,CAAgB,SAASC,GAAT,CAAsBC,OAAtB,CAAoC,CACjE,MAAOD,CAAAA,GAAG,CAAGC,OAAO,CAACb,KAArB,CACD,CAFc,CAEZ,CAFY,CAAf,CAGA;AACA,GAAMiB,CAAAA,SAAc,CAAG9D,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACR,IAAL,GAAc2B,SAAS,CAAC3B,IAAlC,EAAV,CAAvB,CACAoC,SAAS,CAAClC,KAAV,CAAkBiC,MAAlB,CAhF8C,EA2DhD,IAAM,GAAIT,CAAAA,CAAC,CAAG,CAAd,CAAiBA,CAAC,CAAGpD,IAAI,CAAC0C,MAA1B,CAAkCU,CAAC,EAAnC,CAAwC,OAA9BA,CAA8B,EAsBvC,CACD;AACA;AACAW,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAD,OAAO,CAACC,GAAR,CAAYpE,KAAZ,EACAmE,OAAO,CAACC,GAAR,CAAY5D,KAAZ,EACD,CAvFD,CAwFA,GAAM6D,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAClC,KAAD,CAAegB,MAAf,CAAiC,CAChD,GAAMC,CAAAA,UAAe,CAAGtD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAD,CAAJ,GAAgBG,IAA1B,EAAV,CAAxB,CACAc,UAAU,CAAClD,KAAX,CAAmBkD,UAAU,CAAClD,KAAX,CAAmBiD,MAAtC,CACAhD,QAAQ,CAACiD,UAAU,CAAClD,KAAZ,CAAR,CACA;AACA,GAAIiC,KAAK,CAAG,CAAR,GAAc,CAAlB,CAAqB,CACnB,GAAMkB,CAAAA,QAAa,CAAGvD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAK,CAAG,CAAT,CAAJ,GAAoBG,IAA9B,EAAV,CAAtB,CACAc,UAAU,CAAC5C,KAAX,CAAoB4C,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,EAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAnE,CAAnB,CACAmD,QAAQ,CAAC7C,KAAT,CAAkB6C,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAA3B,EAAqCkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAAnE,CAAjB,CACAO,QAAQ,CAAC2C,UAAU,CAAC5C,KAAZ,CAAR,CACA,GAAI4C,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAArE,CAA4E,CAC1EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC5C,GAAD,CAAzB,CACE2C,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CAHD,IAGO,IAAIwC,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAArE,CAA4E,CACjFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACEyC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC5C,GAAD,CAAvB,CACH,CAHM,IAGA,IAAK0C,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAAlE,EAA6EkD,UAAU,CAACpD,KAAX,CAAmBqD,QAAQ,CAACrD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBmD,QAAQ,CAACnD,KAAlJ,CAA0J,CAC/J,GAAKkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAvE,CAA+E,CAC7EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACxC,OAAD,CAAzB,CACEuC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACpC,QAAD,CAAvB,CACH,CAHD,IAGO,IAAKkC,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCmD,QAAQ,CAACrD,KAAT,CAAiBqD,QAAQ,CAACnD,KAAvE,CAA+E,CACpFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACpC,QAAD,CAAzB,CACEmC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACxC,OAAD,CAAvB,CACH,CAHM,IAGA,CACLsC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACtC,QAAD,CAAzB,CACEqC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAACtC,QAAD,CAAvB,CACH,CACF,CAXM,IAWA,CACLoC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACEyC,QAAQ,CAACJ,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CACF,CA1BD,IA0BO,CACL,GAAM2C,CAAAA,QAAa,CAAGzD,IAAI,CAACuC,IAAL,CAAU,SAACC,IAAD,QAAUxC,CAAAA,IAAI,CAACqC,KAAK,CAAG,CAAT,CAAJ,GAAoBG,IAA9B,EAAV,CAAtB,CACAc,UAAU,CAAC5C,KAAX,CAAoB4C,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,EAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAnE,CAAnB,CACAqD,QAAQ,CAAC/C,KAAT,CAAkB+C,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAA3B,EAAqCkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAAnE,CAAjB,CACAO,QAAQ,CAAC2C,UAAU,CAAC5C,KAAZ,CAAR,CACA,GAAI4C,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAArE,CAA4E,CAC1EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC5C,GAAD,CAAzB,CACE6C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CAHD,IAGO,IAAIwC,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAArE,CAA4E,CACjFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACE2C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC5C,GAAD,CAAvB,CACH,CAHM,IAGA,IAAK0C,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAAlE,EAA6EkD,UAAU,CAACpD,KAAX,CAAmBuD,QAAQ,CAACvD,KAA5B,EAAqCoD,UAAU,CAAClD,KAAX,CAAmBqD,QAAQ,CAACrD,KAAlJ,CAA0J,CAC/J,GAAKkD,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAvE,CAA+E,CAC7EkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACxC,OAAD,CAAzB,CACEyC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACpC,QAAD,CAAvB,CACH,CAHD,IAGO,IAAKkC,UAAU,CAACpD,KAAX,CAAmBoD,UAAU,CAAClD,KAA/B,CAAyCqD,QAAQ,CAACvD,KAAT,CAAiBuD,QAAQ,CAACrD,KAAvE,CAA+E,CACpFkD,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACpC,QAAD,CAAzB,CACEqC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACxC,OAAD,CAAvB,CACH,CAHM,IAGA,CACLsC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAACtC,QAAD,CAAzB,CACEuC,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAACtC,QAAD,CAAvB,CACH,CACF,CAXM,IAWA,CACLoC,UAAU,CAACH,KAAX,CAAmBK,MAAM,CAAC1C,IAAD,CAAzB,CACE2C,QAAQ,CAACN,KAAT,CAAiBK,MAAM,CAAC1C,IAAD,CAAvB,CACH,CACF,CACD;AA1DgD,2BA2DtC4C,CA3DsC,EA4D9C,GAAMC,CAAAA,SAAc,CAAGrD,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUlC,CAAAA,IAAI,CAACoD,CAAD,CAAJ,GAAYlB,IAAtB,EAAV,CAAvB,CACA;AACA,GAAMoB,CAAAA,QAAa,CAAG5D,IAAI,CAAC4C,MAAL,CAAY,SAAAC,KAAK,CAAI,CACzC,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAe2B,SAAS,CAAC3B,IAAhC,CACD,CAFqB,CAAtB,CAGA,GAAM6B,CAAAA,KAAK,CAAGD,QAAQ,CAACE,MAAT,CAAgB,SAASC,GAAT,CAAsBC,OAAtB,CAAoC,CAChE,MAAOD,CAAAA,GAAG,CAAGC,OAAO,CAACtD,KAArB,CACD,CAFa,CAEX,CAFW,CAAd,CAGA;AACA,GAAMuD,CAAAA,MAAW,CAAG3D,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACR,IAAL,GAAc2B,SAAS,CAAC3B,IAAlC,EAAV,CAApB,CACAiC,MAAM,CAAC9B,KAAP,CAAe0B,KAAf,CACA;AACA,GAAMK,CAAAA,QAAa,CAAGlE,IAAI,CAAC4C,MAAL,CAAY,SAAAC,KAAK,CAAI,CACzC,MAAOA,CAAAA,KAAK,CAACb,IAAN,GAAe2B,SAAS,CAAC3B,IAAhC,CACD,CAFqB,CAAtB,CAGA,GAAMmC,CAAAA,MAAM,CAAGD,QAAQ,CAACJ,MAAT,CAAgB,SAASC,GAAT,CAAsBC,OAAtB,CAAoC,CACjE,MAAOD,CAAAA,GAAG,CAAGC,OAAO,CAACb,KAArB,CACD,CAFc,CAEZ,CAFY,CAAf,CAGA;AACA,GAAMiB,CAAAA,SAAc,CAAG9D,IAAI,CAACiC,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACR,IAAL,GAAc2B,SAAS,CAAC3B,IAAlC,EAAV,CAAvB,CACAoC,SAAS,CAAClC,KAAV,CAAkBiC,MAAlB,CAhF8C,EA2DhD,IAAM,GAAIT,CAAAA,CAAC,CAAG,CAAd,CAAiBA,CAAC,CAAGpD,IAAI,CAAC0C,MAA1B,CAAkCU,CAAC,EAAnC,CAAwC,QAA9BA,CAA8B,EAsBvC,CACD;AACA;AACAW,OAAO,CAACC,GAAR,CAAYlE,KAAZ,EACAiE,OAAO,CAACC,GAAR,CAAY5D,KAAZ,EACD,CAtFD,CAwFA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAlRgC,CAoR9B;AACA;AACA;AACA;AAEA;AACA;AAEA,GAAM8D,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBC,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,CADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAID,CALD,CAOA;AACAP,OAAO,CAACC,GAAR,CAAYhE,IAAZ,EAGA,mBACE,YAAK,SAAS,CAAC,SAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,kEADF,cAEE,aAAK,SAAS,CAAC,qBAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,MAAf,sCADF,cAEE,YAAK,SAAS,CAAC,OAAf,gCAFF,cAGE,YAAK,SAAS,CAAC,OAAf,gCAHF,cAIE,YAAK,SAAS,CAAC,OAAf,gCAJF,cAKE,YAAK,SAAS,CAAC,OAAf,EALF,GADF,cAQE,WAAI,SAAS,CAAC,MAAd,UACIA,IAAI,CAACuE,GAAL,CAAS,SAACC,IAAD,CAAWC,GAAX,qBACT,WAAI,SAAS,CAAC,UAAd,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,MAAf,UAAuBD,IAAI,CAAC9C,IAA5B,EADF,cAEE,YAAK,SAAS,CAAC,OAAf,UAAwB8C,IAAI,CAAC7C,KAA7B,EAFF,cAGE,YAAK,SAAS,CAAC,OAAf,UAAwB6C,IAAI,CAAC5C,KAA7B,EAHF,cAIE,YAAK,SAAS,CAAC,OAAf,UAAwB4C,IAAI,CAAC3C,KAA7B,EAJF,cAKE,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,yBAAKc,CAAAA,OAAO,CAAC8B,GAAD,CAAZ,EAArC,0BALF,GADF,EAA8BD,IAAI,CAAC9C,IAAnC,CADS,EAAT,CADJ,EARF,GAFF,cAwBE,wEAxBF,cAyBE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,qBAAf,0BADF,cAEE,cAAO,SAAS,CAAC,sBAAjB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,EAAE,CAAC,KAAzD,CAA+D,QAAQ,CAAEN,SAAzE,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,eAAf,wBACA,YAAK,SAAS,CAAC,qBAAf,0BADA,cAEE,cAAO,SAAS,CAAC,sBAAjB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,EAAE,CAAC,UAAzD,CAAoE,QAAQ,CAAEC,aAA9E,EAFF,GALF,cASE,aAAK,SAAS,CAAC,eAAf,wBACA,YAAK,SAAS,CAAC,qBAAf,0BADA,cAEE,cAAO,SAAS,CAAC,sBAAjB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,EAAE,CAAC,WAAzD,CAAqE,QAAQ,CAAEC,cAA/E,EAFF,GATF,cAaE,aAAK,SAAS,CAAC,eAAf,wBACA,YAAK,SAAS,CAAC,qBAAf,0BADA,cAEE,cAAO,SAAS,CAAC,sBAAjB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,EAAE,CAAC,WAAzD,CAAqE,QAAQ,CAAEC,cAA/E,EAFF,GAbF,GAzBF,cA2CE,wEA3CF,cA4CE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,SAAS,CAAC,mBAAjB,CAAqC,IAAI,CAAC,MAA1C,CAAiD,EAAE,CAAC,MAApD,CAA2D,KAAK,CAAErB,IAAlE,CAAwE,QAAQ,CAAEc,UAAlF,EADF,cAEE,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,OAAO,CAAEQ,OAA/D,4CAFF,GADF,EA5CF,cAkDE,YAAK,SAAS,CAAC,UAAf,CAA2B,OAAO,CAAE0C,SAApC,EAlDF,GADF,cAqDE,aAAK,SAAS,CAAC,QAAf,wBACE,WAAI,SAAS,CAAC,OAAd,kDADF,cAEI,YAAK,SAAS,CAAC,gBAAf,UACIxE,IAAI,CAAC6E,GAAL,CAAS,SAACC,IAAD,CAAOC,GAAP,qBACT,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,YAAf,UACIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,aAAK,SAAS,CAAC,kBAAf,oBAAoCA,GAAG,CAAC,CAAJ,CAAM,CAA1C,kBADrB,EADF,cAIE,aAAK,SAAS,CAAC,WAAf,WACIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,iBAAf,oBADrB,CAEIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,iBAAf,oBAFrB,GAJF,cAQE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,WACIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAK3B,CAAAA,QAAQ,CAAC2B,GAAD,CAAM,CAAC,CAAP,CAAb,EAAtC,eADrB,CAEIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAK3B,CAAAA,QAAQ,CAAC2B,GAAD,CAAM,CAAN,CAAb,EAAtC,eAFrB,CAGIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,YAAf,UAA6BD,IAAI,CAAC5E,KAAlC,EAHrB,GADF,cAME,aAAK,SAAS,CAAC,iBAAf,WACI6E,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKR,CAAAA,QAAQ,CAACQ,GAAD,CAAM,CAAC,CAAP,CAAb,EAAtC,eADrB,CAEIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKR,CAAAA,QAAQ,CAACQ,GAAD,CAAM,CAAN,CAAb,EAAtC,eAFrB,CAGIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,YAAf,UAA6BD,IAAI,CAAC1E,KAAlC,EAHrB,GANF,GARF,cAoBE,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,SAAS,CAAC,YAAf,UAA6B0E,IAAI,CAAC9C,IAAlC,EADF,cAEE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,yBAAKI,CAAAA,gBAAgB,CAAC2C,GAAD,CAArB,EAA1C,0BAFF,GApBF,cAwBE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,WACIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAK3B,CAAAA,QAAQ,CAAC2B,GAAD,CAAM,CAAC,CAAP,CAAb,EAAtC,eADrB,CAEIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAK3B,CAAAA,QAAQ,CAAC2B,GAAD,CAAM,CAAN,CAAb,EAAtC,eAFrB,CAGIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,YAAf,UAA6BD,IAAI,CAAC5E,KAAlC,EAHrB,GADF,cAME,aAAK,SAAS,CAAC,iBAAf,WACI6E,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKR,CAAAA,QAAQ,CAACQ,GAAD,CAAM,CAAC,CAAP,CAAb,EAAtC,eADrB,CAEIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAKR,CAAAA,QAAQ,CAACQ,GAAD,CAAM,CAAN,CAAb,EAAtC,eAFrB,CAGIA,GAAG,CAAG,CAAN,GAAY,CAAZ,eAAiB,YAAK,SAAS,CAAC,YAAf,UAA6BD,IAAI,CAAC1E,KAAlC,EAHrB,GANF,GAxBF,GAA2B2E,GAA3B,CADS,EAAT,CADJ,EAFJ,cA2CE,cA3CF,GArDF,GADF,EADF,EADF,CAgHD,CAvZD,CAyZA,cAAehF,CAAAA,OAAf","sourcesContent":["import { useState } from \"react\";\r\nimport * as React from 'react';\r\n// import ExcelJS from \"exceljs\";\r\n// import File from \"./File\";\r\n// import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\"\r\n// import Select from 'react-select';\r\n// import ReactDOM from \"react-dom\";\r\n\r\n\r\ntype Pro = {\r\n  id: number\r\n  name: any\r\n  gross: number\r\n  point: number\r\n  score: number\r\n}\r\n\r\ntype Scr = {\r\n  name: any\r\n  time1: number\r\n  time2: number\r\n  count: number\r\n  marks: number\r\n}\r\n\r\n// type Cell = {\r\n//   name: string\r\n//   time1: number\r\n// }\r\n// const reorder = (\r\n//   list: ItemType[],\r\n//   startIndex: number,\r\n//   endIndex: number\r\n// ): ItemType[] => {\r\n//   const result = Array.from(list);\r\n//   const [removed] = result.splice(startIndex, 1);\r\n//   result.splice(endIndex, 0, removed);\r\n\r\n//   return result;\r\n// };\r\n\r\n\r\nconst Process: React.FC = () => {\r\n  const [ plan, setPlan ] = useState<Scr[]>([]);\r\n  const [ time1, setTime1 ] = useState<number>(0);\r\n  const [ time2, setTime2 ] = useState<number>(0);\r\n  const [ list, setList ] = useState<Pro[]>([]);\r\n  const [ data, setData ] = useState<any>();\r\n  const [ count, setCount ] =useState<number>(0);\r\n  const [ win, setWin ] = useState<number>(0);\r\n  const [ lose, setLose ] = useState<number>(0);\r\n  const [ drawWin, setDrawWin ] = useState<number>(0);\r\n  const [ drawDraw, setDrawDraw ] = useState<number>(0);\r\n  const [ drawLose, setDrawLose ] = useState<number>(0);\r\n\r\n\r\n\r\n  const changeData = (e:any) => {\r\n    setData(e.target.value)\r\n    // setCount(Math.random());\r\n  }\r\n  const changeWin = (e:any) => {\r\n    setWin(e.target.value)\r\n    setLose(0);\r\n  }\r\n  const changeDrawWin = (e:any) => {\r\n    setDrawWin(e.target.value)\r\n  }\r\n  const changeDrawDraw = (e:any) => {\r\n    setDrawDraw(e.target.value)\r\n  }\r\n  const changeDrawLose = (e:any) => {\r\n    setDrawLose(e.target.value)\r\n  }\r\n  const addList = () => {\r\n    setList([...list, {\r\n      id: data,\r\n      name: data,\r\n      gross: 0,\r\n      point: 0,\r\n      score: 0,\r\n    }]);\r\n    setData('');\r\n  }\r\n\r\n  const handleRemoveTask = (index:number) => {\r\n    const delTeam: any = plan.find((elem) => plan[index] === elem )\r\n    const newPlan = [...plan]\r\n    newPlan.splice(index, 1)\r\n    setPlan(newPlan)\r\n    const result: any = newPlan.filter(plans => {\r\n      return plans.name === delTeam.name\r\n    })\r\n    const result1: any = list.find((elem) => elem.name === delTeam.name)\r\n    const result2 = result.length\r\n    result1.gross = result2\r\n  }\r\n\r\n  const addPlan = (index: number) => {\r\n    const addName: any = list.find((elem) => list[index] === elem )\r\n    setPlan([...plan, {name: addName.name, time1: 0, time2: 0, count: 0, marks: 0}]);\r\n    const result: any = plan.filter(plans => {\r\n      return plans.name === list[index].name\r\n    })\r\n    const result1 = result.length + 1;\r\n    list[index].gross = result1;\r\n  }\r\n\r\n\r\n  const addTime1 = (index:number, minute:number) => {\r\n    const targetPlan: Scr = plan.find((elem) => plan[index] === elem)\r\n    targetPlan.time1 = targetPlan.time1 + minute\r\n    setTime1(targetPlan.time1)\r\n    // 奇数か偶数で処理を変える\r\n    if (index % 2 === 0) {\r\n      const nextPlan: Scr = plan.find((elem) => plan[index + 1] === elem);\r\n      targetPlan.count = (targetPlan.time1 + targetPlan.time2) - (nextPlan.time1 + nextPlan.time2);\r\n      nextPlan.count = (nextPlan.time1 + nextPlan.time2) - (targetPlan.time1 + targetPlan.time2);\r\n      setCount(targetPlan.count);\r\n      if (targetPlan.time1 > nextPlan.time1 && targetPlan.time2 > nextPlan.time2) {\r\n        targetPlan.marks = Number(win);\r\n          nextPlan.marks = Number(lose);\r\n      } else if (targetPlan.time1 < nextPlan.time1 && targetPlan.time2 < nextPlan.time2) {\r\n        targetPlan.marks = Number(lose);\r\n          nextPlan.marks = Number(win);\r\n      } else if ((targetPlan.time1 < nextPlan.time1 && targetPlan.time2 > nextPlan.time2) || (targetPlan.time1 > nextPlan.time1 && targetPlan.time2 < nextPlan.time2)) {\r\n        if ((targetPlan.time1 + targetPlan.time2) > (nextPlan.time1 + nextPlan.time2)) {\r\n          targetPlan.marks = Number(drawWin);\r\n            nextPlan.marks = Number(drawLose);\r\n        } else if ((targetPlan.time1 + targetPlan.time2) < (nextPlan.time1 + nextPlan.time2)) {\r\n          targetPlan.marks = Number(drawLose);\r\n            nextPlan.marks = Number(drawWin);\r\n        } else {\r\n          targetPlan.marks = Number(drawDraw);\r\n            nextPlan.marks = Number(drawDraw);\r\n        }\r\n      } else {\r\n        targetPlan.marks = Number(lose);\r\n          nextPlan.marks = Number(lose);\r\n      }\r\n    } else {\r\n      const prevPlan: Scr = plan.find((elem) => plan[index - 1] === elem);\r\n      targetPlan.count = (targetPlan.time1 + targetPlan.time2) - (prevPlan.time1 + prevPlan.time2);\r\n      prevPlan.count = (prevPlan.time1 + prevPlan.time2) - (targetPlan.time1 + targetPlan.time2);\r\n      setCount(targetPlan.count);\r\n      if (targetPlan.time1 > prevPlan.time1 && targetPlan.time2 > prevPlan.time2) {\r\n        targetPlan.marks = Number(win);\r\n          prevPlan.marks = Number(lose);\r\n      } else if (targetPlan.time1 < prevPlan.time1 && targetPlan.time2 < prevPlan.time2) {\r\n        targetPlan.marks = Number(lose);\r\n          prevPlan.marks = Number(win);\r\n      } else if ((targetPlan.time1 < prevPlan.time1 && targetPlan.time2 > prevPlan.time2) || (targetPlan.time1 > prevPlan.time1 && targetPlan.time2 < prevPlan.time2)) {\r\n        if ((targetPlan.time1 + targetPlan.time2) > (prevPlan.time1 + prevPlan.time2)) {\r\n          targetPlan.marks = Number(drawWin);\r\n            prevPlan.marks = Number(drawLose);\r\n        } else if ((targetPlan.time1 + targetPlan.time2) < (prevPlan.time1 + prevPlan.time2)) {\r\n          targetPlan.marks = Number(drawLose);\r\n            prevPlan.marks = Number(drawWin);\r\n        } else {\r\n          targetPlan.marks = Number(drawDraw);\r\n            prevPlan.marks = Number(drawDraw);\r\n        }\r\n      } else {\r\n        targetPlan.marks = Number(lose);\r\n          prevPlan.marks = Number(lose);\r\n      }\r\n    }\r\n    // ここから繰り返し処理\r\n    for ( let i = 0; i < list.length; i++ ) {\r\n      const countPlan: Pro = list.find((elem) => list[i] === elem)\r\n      // 得失点の合計値をtotalに代入\r\n      const sumCount: any = plan.filter(plans => {\r\n        return plans.name === countPlan.name\r\n      })\r\n      const total = sumCount.reduce(function(sum: number, element: any) {\r\n        return sum + element.count;\r\n      }, 0);\r\n      // 合計をlistに反映\r\n      const update: any = list.find((elem) => elem.name === countPlan.name);\r\n      update.score = total;\r\n      // 勝ち点の合計値をamountに代入\r\n      const sumMarks: any = plan.filter(plans => {\r\n        return plans.name === countPlan.name\r\n      })\r\n      const amount = sumMarks.reduce(function(sum: number, element: any) {\r\n        return sum + element.marks;\r\n      }, 0);\r\n      // 合計をlistに反映\r\n      const overwrite: any = list.find((elem) => elem.name === countPlan.name);\r\n      overwrite.point = amount;\r\n    }\r\n    // ここまで繰り返し\r\n    // コンソールでエラーを回避\r\n    console.log(\"ここからエラー回避\");\r\n    console.log(time1);\r\n    console.log(count);\r\n  }\r\n  const addTime2 = (index:number, minute:number) => {\r\n    const targetPlan: any = plan.find((elem) => plan[index] === elem )\r\n    targetPlan.time2 = targetPlan.time2 + minute\r\n    setTime2(targetPlan.time2)\r\n    // 奇数か偶数で処理を変える\r\n    if (index % 2 === 0) {\r\n      const nextPlan: Scr = plan.find((elem) => plan[index + 1] === elem);\r\n      targetPlan.count = (targetPlan.time1 + targetPlan.time2) - (nextPlan.time1 + nextPlan.time2);\r\n      nextPlan.count = (nextPlan.time1 + nextPlan.time2) - (targetPlan.time1 + targetPlan.time2);\r\n      setCount(targetPlan.count);\r\n      if (targetPlan.time1 > nextPlan.time1 && targetPlan.time2 > nextPlan.time2) {\r\n        targetPlan.marks = Number(win);\r\n          nextPlan.marks = Number(lose);\r\n      } else if (targetPlan.time1 < nextPlan.time1 && targetPlan.time2 < nextPlan.time2) {\r\n        targetPlan.marks = Number(lose);\r\n          nextPlan.marks = Number(win);\r\n      } else if ((targetPlan.time1 < nextPlan.time1 && targetPlan.time2 > nextPlan.time2) || (targetPlan.time1 > nextPlan.time1 && targetPlan.time2 < nextPlan.time2)) {\r\n        if ((targetPlan.time1 + targetPlan.time2) > (nextPlan.time1 + nextPlan.time2)) {\r\n          targetPlan.marks = Number(drawWin);\r\n            nextPlan.marks = Number(drawLose);\r\n        } else if ((targetPlan.time1 + targetPlan.time2) < (nextPlan.time1 + nextPlan.time2)) {\r\n          targetPlan.marks = Number(drawLose);\r\n            nextPlan.marks = Number(drawWin);\r\n        } else {\r\n          targetPlan.marks = Number(drawDraw);\r\n            nextPlan.marks = Number(drawDraw);\r\n        }\r\n      } else {\r\n        targetPlan.marks = Number(lose);\r\n          nextPlan.marks = Number(lose);\r\n      }\r\n    } else {\r\n      const prevPlan: Scr = plan.find((elem) => plan[index - 1] === elem);\r\n      targetPlan.count = (targetPlan.time1 + targetPlan.time2) - (prevPlan.time1 + prevPlan.time2);\r\n      prevPlan.count = (prevPlan.time1 + prevPlan.time2) - (targetPlan.time1 + targetPlan.time2);\r\n      setCount(targetPlan.count);\r\n      if (targetPlan.time1 > prevPlan.time1 && targetPlan.time2 > prevPlan.time2) {\r\n        targetPlan.marks = Number(win);\r\n          prevPlan.marks = Number(lose);\r\n      } else if (targetPlan.time1 < prevPlan.time1 && targetPlan.time2 < prevPlan.time2) {\r\n        targetPlan.marks = Number(lose);\r\n          prevPlan.marks = Number(win);\r\n      } else if ((targetPlan.time1 < prevPlan.time1 && targetPlan.time2 > prevPlan.time2) || (targetPlan.time1 > prevPlan.time1 && targetPlan.time2 < prevPlan.time2)) {\r\n        if ((targetPlan.time1 + targetPlan.time2) > (prevPlan.time1 + prevPlan.time2)) {\r\n          targetPlan.marks = Number(drawWin);\r\n            prevPlan.marks = Number(drawLose);\r\n        } else if ((targetPlan.time1 + targetPlan.time2) < (prevPlan.time1 + prevPlan.time2)) {\r\n          targetPlan.marks = Number(drawLose);\r\n            prevPlan.marks = Number(drawWin);\r\n        } else {\r\n          targetPlan.marks = Number(drawDraw);\r\n            prevPlan.marks = Number(drawDraw);\r\n        }\r\n      } else {\r\n        targetPlan.marks = Number(lose);\r\n          prevPlan.marks = Number(lose);\r\n      }\r\n    }\r\n    // ここから繰り返し処理\r\n    for ( let i = 0; i < list.length; i++ ) {\r\n      const countPlan: Pro = list.find((elem) => list[i] === elem)\r\n      // 得失点の合計値をtotalに代入\r\n      const sumCount: any = plan.filter(plans => {\r\n        return plans.name === countPlan.name\r\n      })\r\n      const total = sumCount.reduce(function(sum: number, element: any) {\r\n        return sum + element.count;\r\n      }, 0);\r\n      // 合計をlistに反映\r\n      const update: any = list.find((elem) => elem.name === countPlan.name);\r\n      update.score = total;\r\n      // 勝ち点の合計値をamountに代入\r\n      const sumMarks: any = plan.filter(plans => {\r\n        return plans.name === countPlan.name\r\n      })\r\n      const amount = sumMarks.reduce(function(sum: number, element: any) {\r\n        return sum + element.marks;\r\n      }, 0);\r\n      // 合計をlistに反映\r\n      const overwrite: any = list.find((elem) => elem.name === countPlan.name);\r\n      overwrite.point = amount;\r\n    }\r\n    // ここまで繰り返し\r\n    // コンソールでエラーを回避\r\n    console.log(time2);\r\n    console.log(count);\r\n  }\r\n\r\n  /* いずれは実装したい\r\n  const handleClickDownloadButton = async (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\r\n    format:  \"xlsx\" | \"csv\"\r\n  ) => {\r\n    e.preventDefault();\r\n\r\n    const workbook = new ExcelJS.Workbook();\r\n    workbook.addWorksheet(\"sheet1\");\r\n    const worksheet = workbook.getWorksheet(\"sheet1\");\r\n\r\n    worksheet.columns = [\r\n      { header: \"No.\", key: \"\", width: 10 },\r\n      { header: \"工程\", key: \"name\", width: 20},\r\n      { header: \"時間\", key: \"time1\", width: 20}\r\n    ];\r\n\r\n    worksheet.addRows(plan);\r\n\r\n    const uint8Array =\r\n      format === \"xlsx\"\r\n        ? await workbook.xlsx.writeBuffer() //xlsxの場合\r\n        : await workbook.csv.writeBuffer(); //csvの場合\r\n    const blob = new Blob([uint8Array], { type: \"application/octet-binary \"});\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = \"NewFile.\" + format; //フォーマットによって拡張子を変える\r\n    a.click();\r\n    a.remove();\r\n  };\r\n  */\r\n\r\n  // const handleOnDragEnd = (result:any) => {\r\n  //   const items = Array.from(plan);\r\n  //   const [reorderedItem] = items.splice(result.source.index, 1);\r\n  //   items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n  //   setPlan(items);\r\n  // }\r\n\r\n  const returnTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  // 確認のため設置\r\n  console.log(list);\r\n\r\n\r\n  return (\r\n    <div className=\"Process\">\r\n      <div className=\"ProcessContainer\">\r\n        <div className=\"ProcessMain\">\r\n          <div className=\"ProcessList\">\r\n            <h1>【チーム一覧】</h1>\r\n            <div className=\"ProcessList__Border\">\r\n              <div className=\"Head\">\r\n                <div className=\"name\">チーム名</div>\r\n                <div className=\"gross\">試合数</div>\r\n                <div className=\"point\">勝ち点</div>\r\n                <div className=\"score\">得失点</div>\r\n                <div className=\"space\"></div>\r\n              </div>\r\n              <ul className=\"Item\">\r\n                { list.map((item:Pro, idx: number) => (\r\n                  <li className=\"ItemList\" key={item.name}>\r\n                    <div className=\"ItemList__data\">\r\n                      <div className=\"name\">{item.name}</div>\r\n                      <div className=\"gross\">{item.gross}</div>\r\n                      <div className=\"point\">{item.point}</div>\r\n                      <div className=\"score\">{item.score}</div>\r\n                      <button className=\"AddPlan\" onClick={()=> addPlan(idx)}>登録</button>\r\n                    </div>\r\n                </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            <h1>【勝ち点を入力】</h1>\r\n            <div className=\"Insert\">\r\n              <div className=\"InsertContent\">\r\n                <div className=\"InsertContent__text\">勝ち</div>\r\n                <input className=\"InsertContent__entry\" type=\"number\" id=\"win\" onChange={changeWin}></input>\r\n              </div>\r\n              <div className=\"InsertContent\">\r\n              <div className=\"InsertContent__text\">分勝</div>\r\n                <input className=\"InsertContent__entry\" type=\"number\" id=\"draw_win\" onChange={changeDrawWin}></input>\r\n              </div>\r\n              <div className=\"InsertContent\">\r\n              <div className=\"InsertContent__text\">分分</div>\r\n                <input className=\"InsertContent__entry\" type=\"number\" id=\"draw_draw\" onChange={changeDrawDraw}></input>\r\n              </div>\r\n              <div className=\"InsertContent\">\r\n              <div className=\"InsertContent__text\">分負</div>\r\n                <input className=\"InsertContent__entry\" type=\"number\" id=\"draw_lose\" onChange={changeDrawLose}></input>\r\n              </div>\r\n            </div>\r\n            <h1>【チームを追加】</h1>\r\n            <div className=\"Form\">\r\n              <div className=\"FormContent\">\r\n                <input className=\"FormContent__name\" type=\"text\" id=\"name\" value={data} onChange={changeData}></input>\r\n                <button className=\"FormContent__button\" type=\"submit\" onClick={addList}>チーム追加</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"upButton\"  onClick={returnTop}></div>\r\n          </div>\r\n          <div className=\"Result\">\r\n            <h1 className=\"title\">【試合内容】</h1>\r\n              <div className=\"Result__Border\">\r\n                { plan.map((item, idx: number) => (\r\n                  <div className=\"Flex\" key={idx}>\r\n                    <div className=\"FlexNumber\">\r\n                      { idx % 2 === 0 && <div className=\"FlexNumber__item\">第{idx/2+1}試合</div> }\r\n                    </div>\r\n                    <div className=\"FlexCross\">\r\n                      { idx % 2 !== 0 && <div className=\"FlexCross__item\">✖</div> }\r\n                      { idx % 2 !== 0 && <div className=\"FlexCross__item\">✖</div> }\r\n                    </div>\r\n                    <div className=\"FlexCount\">\r\n                      <div className=\"FlexCount__flex\">\r\n                        { idx % 2 === 0 && <button className=\"AddCount\" onClick={()=> addTime1(idx, -1)}>-</button> }\r\n                        { idx % 2 === 0 && <button className=\"AddCount\" onClick={()=> addTime1(idx, 5)}>+</button> }\r\n                        { idx % 2 !== 0 && <div className=\"ResultTime\">{item.time1}</div> }\r\n                      </div>\r\n                      <div className=\"FlexCount__flex\">\r\n                        { idx % 2 === 0 && <button className=\"AddCount\" onClick={()=> addTime2(idx, -1)}>-</button> }\r\n                        { idx % 2 === 0 && <button className=\"AddCount\" onClick={()=> addTime2(idx, 5)}>+</button> }\r\n                        { idx % 2 !== 0 && <div className=\"ResultTime\">{item.time2}</div> }\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"FlexName\">\r\n                      <div className=\"ResultName\">{item.name}</div>\r\n                      <button className=\"DeleteButton\" onClick={()=> handleRemoveTask(idx)}>取消</button>\r\n                    </div>\r\n                    <div className=\"FlexCount\">\r\n                      <div className=\"FlexCount__flex\">\r\n                        { idx % 2 !== 0 && <button className=\"AddCount\" onClick={()=> addTime1(idx, -1)}>-</button> }\r\n                        { idx % 2 !== 0 && <button className=\"AddCount\" onClick={()=> addTime1(idx, 5)}>+</button> }\r\n                        { idx % 2 === 0 && <div className=\"ResultTime\">{item.time1}</div> }\r\n                      </div>\r\n                      <div className=\"FlexCount__flex\">\r\n                        { idx % 2 !== 0 && <button className=\"AddCount\" onClick={()=> addTime2(idx, -1)}>-</button> }\r\n                        { idx % 2 !== 0 && <button className=\"AddCount\" onClick={()=> addTime2(idx, 5)}>+</button> }\r\n                        { idx % 2 === 0 && <div className=\"ResultTime\">{item.time2}</div> }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )) }\r\n              </div>\r\n            <div>\r\n              {/* <button onClick={(e) => handleClickDownloadButton(e, \"xlsx\")}>\r\n                Excel印刷\r\n              </button> */}\r\n              {/* <button onClick={(e) => handleClickDownloadButton(e, \"csv\")}>\r\n                CSV形式\r\n              </button> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Process;"]},"metadata":{},"sourceType":"module"}